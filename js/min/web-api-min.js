$(document).ready(function(){function a(){var a="";$.each(c,function(e,t){a+='<div class="photos">',a+='<img src="'+t.image+'" alt=" '+t.name+' ">',a+="</div>"}),$(".gallery").append(a)}function e(a){$.each(a,function(a,e){var t=e.href;$.getJSON(t).done(function(e){c[a].details=e})})}function t(a){$(".overlay-poster").attr("src",s[a].poster)}function n(a){$(".artist").html("<span>Artist :</span> "+s[a].name_band),$(".album").html("<span>album :</span> "+s[a].name_album),$(".release").html("<span>Release Date :</span> "+s[a].release_date)}function i(a){var e="";$.each(s[a].tracks_arr.items,function(a,t){e+="<tr><td>"+t.track_number+". "+t.name+"</td></tr>"}),$(".replace-table").html(e)}function r(){$.each(c,function(a,e){var t={index:a,name_album:e.name,name_band:e.details.artists[0].name,release_date:e.details.release_date,tracks_arr:e.details.tracks,poster:e.details.images[0].url};s.push(t)})}var s=[],l=10,c=[];$("#flickr-submit").click(function(t){function n(t){$.each(t.albums.items,function(a,e){if(e.images.length>0){var t={id:e.id,name:e.name,href:e.href,image:e.images[0].url};c.push(t)}}),e(c),a()}t.preventDefault(),$(".gallery").empty(),c=[];var i=$("#flickr-search").val().split(" ").join("+"),r="https://api.spotify.com/v1/search",s={q:i,type:"album",limit:l};$.getJSON(r,s,n)});var o;$(".gallery").on("click","div",function(){o=$(this).index(),r(),n(o),i(o),t(o),$("#overlay").addClass("open").css("display","flex")}),$("#overlay").click(function(){$("#overlay").removeClass("open")}),$(".left-arrow").click(function(a){a.stopPropagation(),o>0?(o-=1,n(o),i(o),t(o)):0===o&&(o=19,n(o),i(o),t(o))}),$(".right-arrow").click(function(a){a.stopPropagation(),18>=o?(o+=1,n(o),i(o),t(o)):19===o&&(o=0,n(o),i(o),t(o))})});